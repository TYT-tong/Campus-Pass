## 现状确认
- 控制器未实现 `GET /system/menu/roleMenuTreeSelect/{roleId}`（cp-modules/cp-system/src/main/java/com/cp/system/controller/SysMenuController.java）。
- 菜单服务已提供：
  - 构建用户可见的菜单树 `selectMenuTreeByUserId`（cp-modules/cp-system/src/main/java/com/cp/system/service/impl/SysMenuServiceImpl.java:51）。
  - 构建前端路由 `buildMenus`（cp-modules/cp-system/src/main/java/com/cp/system/service/impl/SysMenuServiceImpl.java:185）。
  - “按角色查询选中菜单ID”方法存在但返回空（`selectMenuListByRoleId`，cp-modules/cp-system/src/main/java/com/cp/system/service/impl/SysMenuServiceImpl.java:281）。
- Mapper XML已实现按角色查菜单ID（cp-modules/cp-system/src/main/resources/mapper/system/SysMenuMapper.xml:88），但接口 `SysMenuMapper` 未声明该方法（cp-modules/cp-system/src/main/java/com/cp/system/mapper/SysMenuMapper.java）。
- 角色实体包含 `menuCheckStrictly`（cp-api/cp-api-system/src/main/java/com/cp/system/api/domain/SysRole.java:53），角色Mapper支持按ID查角色（cp-modules/cp-system/src/main/java/com/cp/system/mapper/SysRoleMapper.java:54）。

## 目标接口行为
- 路径：`GET /system/menu/roleMenuTreeSelect/{roleId}`。
- 返回：
  - `menus`：树形结构（`id`、`label`、`children`），来源于当前登录用户可见的菜单树或全量菜单树（管理员）。
  - `checkedKeys`：该 `roleId` 绑定的菜单ID列表，考虑 `menuCheckStrictly` 父子联动策略。

## 实现步骤
1. 在 `SysMenuMapper` 增加方法签名以匹配 XML：
   - `List<Long> selectMenuListByRoleId(@Param("roleId") Long roleId, @Param("menuCheckStrictly") boolean menuCheckStrictly);`
2. 在 `SysMenuServiceImpl.selectMenuListByRoleId` 中调用 Mapper：
   - 通过 `SysRoleMapper.selectRoleById(roleId)` 读取 `menuCheckStrictly`。
   - 返回 `baseMapper.selectMenuListByRoleId(roleId, menuCheckStrictly)`。
3. 在 `SysMenuController` 新增接口方法：
   - `@GetMapping("/roleMenuTreeSelect/{roleId}")`。
   - 获取当前用户ID，调用 `menuService.selectMenuTreeByUserId(userId)`（管理员走 `selectMenuTreeAll` 已在服务中处理，cp-modules/cp-system/src/main/java/com/cp/system/service/impl/SysMenuServiceImpl.java:51）。
   - 将 `List<SysMenu>` 转为树形 `menus`（节点 `id=menuId`、`label=menuName`、`children`），可在控制器内做轻量映射以避免新建VO。
   - `checkedKeys = menuService.selectMenuListByRoleId(roleId)`。
   - 使用 `AjaxResult.success(Map.of("menus", menus, "checkedKeys", checkedKeys))` 返回。
4. 权限控制：建议 `@RequiresPermissions("system:role:query")`（或保持开放只读视图，按你权限策略决定）。

## 校验与说明
- 验证接口：调用 `GET /system/menu/roleMenuTreeSelect/{roleId}`，确认返回的 `menus` 节点包含 `id`、`label`、`children`，`checkedKeys` 为 Long 数组。
- 严格联动：当 `menuCheckStrictly=false` 时，子选中父不选中也允许；当 `true` 时，XML已按条件过滤父子关系（cp-modules/cp-system/src/main/resources/mapper/system/SysMenuMapper.xml:93）。

是否按上述方案进行实现？